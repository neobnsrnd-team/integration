@startuml MCI Framework Simple Overview

title Springware MCI Framework - Simple Overview

skinparam backgroundColor #FEFEFE
skinparam handwritten false
skinparam defaultFontSize 14

participant "Client App" as App #LightBlue
participant "Client\n(TCP/HTTP/HTTPS)" as Client #LightGreen
participant "Network" as Net #LightGray
participant "Server\n(TCP/HTTP/HTTPS)" as Server #LightYellow
participant "Biz Handler" as Biz #LightPink

== Banking: Balance Inquiry ==

App -> Client : balanceInquiry(accountNo)
note right of App
  Message:
  messageCode: "BAL1"
  accountNo: "123..."
end note

Client -> Client : encode(message)
note right: TCP: Binary\nHTTP: JSON

Client -> Net : Send Request
Net -> Server : Receive

Server -> Server : decode(data)
Server -> Biz : execute(request)

note right of Biz
  BalanceInquiryBiz:
  - Extract accountNo
  - Query repository
  - Build response
end note

Biz --> Server : response (BAL2)
Server -> Server : encode(response)

Server -> Net : Send Response
Net -> Client : Receive

Client -> Client : decode(data)
Client --> App : {rspCode: "0000"\n balance: 1000000}

== Card: Card List Inquiry ==

App -> Client : cardListInquiry(customerId)
note right of App
  Message:
  messageCode: "CRD1"
  customerId: "CUST001"
end note

Client -> Client : encode(message)

Client -> Net : Send Request
Net -> Server : Receive

Server -> Server : decode(data)
Server -> Biz : execute(request)

note right of Biz
  CardListBiz:
  - Extract customerId
  - Query CardRepository
  - Build card list response
end note

Biz --> Server : response (CRD2)
Server -> Server : encode(response)

Server -> Net : Send Response
Net -> Client : Receive

Client -> Client : decode(data)
Client --> App : {rspCode: "0000"\n cards: [...]}

== Port Configuration ==

note over Net
  **Banking Domain**
  TCP:   9001
  HTTP:  9003
  HTTPS: 9443

  **Card Domain**
  TCP:   9011
  HTTP:  9013
  HTTPS: 9444
end note

@enduml
